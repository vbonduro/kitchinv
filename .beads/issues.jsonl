{"id":"kitchinv-25e","title":"Final quality gate: make all green","description":"Run 'make all' which executes lint + vet + staticcheck + test + build. Fix any issues found by golangci-lint, go vet, or staticcheck. Ensure zero lint errors and all tests pass with -race flag. Verify 'make docker-build' succeeds. This is the final sign-off step before the project is ready for use.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:05:08Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:23:47Z","closed_at":"2026-02-20T03:23:47Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-25e","depends_on_id":"kitchinv-27b","type":"blocks","created_at":"2026-02-19T22:05:28Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-27b","title":"Dockerfile and docker-compose","description":"Create multi-stage Dockerfile: builder stage uses golang:1.26-alpine with CGO_ENABLED=0 (works because modernc.org/sqlite is pure Go), runtime stage uses alpine:3.21 with ca-certificates and tzdata. Create docker-compose.yml with kitchinv service (port 8080, kitchinv-data volume at /data) and ollama sidecar service (ollama/ollama:latest, ollama-models volume). Add make docker-build, make docker-up, make docker-pull-model targets to Makefile.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:05:05Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:23:47Z","closed_at":"2026-02-20T03:23:47Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-27b","depends_on_id":"kitchinv-orp","type":"blocks","created_at":"2026-02-19T22:05:28Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-44t","title":"Config package","description":"Implement internal/config/config.go with Load() that reads env vars and applies defaults. Write table-driven config_test.go using t.Setenv. Env vars: LISTEN_ADDR, DB_PATH, VISION_BACKEND, OLLAMA_HOST, OLLAMA_MODEL, CLAUDE_API_KEY, CLAUDE_MODEL, PHOTO_BACKEND, PHOTO_LOCAL_PATH.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:39Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:14Z","closed_at":"2026-02-20T03:17:14Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-44t","depends_on_id":"kitchinv-74e","type":"blocks","created_at":"2026-02-19T22:05:25Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-73w","title":"Ollama vision adapter","description":"Implement internal/vision/ollama/ollama.go as OllamaAnalyzer implementing VisionAnalyzer. Uses github.com/ollama/ollama/api client. Prompt: 'List every food item you can see in this refrigerator/freezer/pantry photo. For each item provide: name, approximate quantity, and any relevant notes (e.g. opened, expired). Respond in plain text, one item per line, format: name | quantity | notes'. Write ollama_test.go using httptest.NewServer with canned Ollama JSON responses.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:43Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:18Z","closed_at":"2026-02-20T03:17:18Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-73w","depends_on_id":"kitchinv-wvp","type":"blocks","created_at":"2026-02-19T22:05:26Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-74e","title":"Project scaffold and tooling setup","description":"Initialize the Go module, create the minimal cmd/kitchinv/main.go stub, Makefile, .gitignore, and .golangci.yml. Verify 'make build' produces a binary.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:39Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:09Z","closed_at":"2026-02-20T03:17:09Z","close_reason":"Closed"}
{"id":"kitchinv-7jm","title":"Create UI mockup screenshots","description":"Create ASCII/text mockups embedded in the README (or as separate docs/screenshots/) showing: the areas list page, the area detail page (with photo + item list), the upload flow, and the search page. These should be realistic representations of the Pico.css + HTMX UI.","status":"closed","priority":2,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:25:43Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:27:00Z","closed_at":"2026-02-20T03:27:00Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-7jm","depends_on_id":"kitchinv-9is","type":"blocks","created_at":"2026-02-19T22:25:49Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-7zx","title":"Service layer: AreaService","description":"Implement internal/service/area_service.go with AreaService struct. Define AreaStorer, ItemStorer, PhotoStorer interfaces within the service package. Key method: ProcessPhoto(ctx, areaID, r, mimeType) which: 1) saves raw bytes to photoStore, 2) inserts photo row, 3) runs vision analysis, 4) calls ReplaceForArea to replace all items for the area. Write area_service_test.go using hand-written testify/mock mocks for all interfaces.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:51Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:22Z","closed_at":"2026-02-20T03:17:22Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-7zx","depends_on_id":"kitchinv-73w","type":"blocks","created_at":"2026-02-19T22:05:27Z","created_by":"Vincent Bonduro","metadata":"{}"},{"issue_id":"kitchinv-7zx","depends_on_id":"kitchinv-9au","type":"blocks","created_at":"2026-02-19T22:05:27Z","created_by":"Vincent Bonduro","metadata":"{}"},{"issue_id":"kitchinv-7zx","depends_on_id":"kitchinv-dpg","type":"blocks","created_at":"2026-02-19T22:05:27Z","created_by":"Vincent Bonduro","metadata":"{}"},{"issue_id":"kitchinv-7zx","depends_on_id":"kitchinv-siw","type":"blocks","created_at":"2026-02-19T22:05:27Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-9au","title":"PhotoStore interface and local filesystem adapter","description":"Create internal/photostore/photostore.go with PhotoStore interface (Save, Get, Delete methods). Implement internal/photostore/local/local.go as LocalPhotoStore storing files at basePath/prefix/\u003cuuid\u003e.\u003cext\u003e. Write local_test.go using t.TempDir() as base path, testing round-trip Save/Get/Delete.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:47Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:14Z","closed_at":"2026-02-20T03:17:14Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-9au","depends_on_id":"kitchinv-74e","type":"blocks","created_at":"2026-02-19T22:05:26Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-9is","title":"Write README.md","description":"Create a comprehensive README.md for the kitchinv project. Should cover: what the project is and why it exists, architecture overview, environment variable config table, deployment with docker-compose (including pulling the Ollama model), switching to Claude backend, local development setup, make targets, and project directory structure.","status":"closed","priority":2,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:25:37Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:26:56Z","closed_at":"2026-02-20T03:26:56Z","close_reason":"Closed"}
{"id":"kitchinv-axa","title":"Database layer: migrations and db.go","description":"Write the 3 SQL migration pairs in internal/db/migrations/ (areas, photos, items tables). Implement internal/db/db.go: open modernc.org/sqlite, enable WAL mode and foreign keys via DSN pragmas, run migrations via golang-migrate with iofs source. Write db_test.go using :memory: SQLite to verify migrations apply and roll back.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:39Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:14Z","closed_at":"2026-02-20T03:17:14Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-axa","depends_on_id":"kitchinv-74e","type":"blocks","created_at":"2026-02-19T22:05:26Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-dpg","title":"Domain types and store layer","description":"Create internal/domain/types.go with Area, Photo, Item structs. Implement internal/store/area_store.go, item_store.go, photo_store.go as thin wrappers around database/sql. item_store must include a Search method using LIKE on items.name COLLATE NOCASE. Write store tests using in-memory SQLite.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:40Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:18Z","closed_at":"2026-02-20T03:17:18Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-dpg","depends_on_id":"kitchinv-axa","type":"blocks","created_at":"2026-02-19T22:05:26Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-fa6","title":"HTTP handlers and server wiring","description":"Create internal/web/server.go (ServeMux routing + logging/recovery middleware). Create handler_area.go (list, create, detail, delete area), handler_upload.go (POST /areas/{id}/photos multipart upload), handler_search.go (GET /search with q param). All handlers detect HX-Request: true header and return partial vs full page accordingly. Routes: GET /areas, POST /areas, GET /areas/{id}, POST /areas/{id}/photos, GET /areas/{id}/photo, DELETE /areas/{id}, GET /search. Write handler tests using httptest.NewRecorder + mock service.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:59Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:25Z","closed_at":"2026-02-20T03:17:25Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-fa6","depends_on_id":"kitchinv-7zx","type":"blocks","created_at":"2026-02-19T22:05:27Z","created_by":"Vincent Bonduro","metadata":"{}"},{"issue_id":"kitchinv-fa6","depends_on_id":"kitchinv-t2m","type":"blocks","created_at":"2026-02-19T22:05:28Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-oeb","title":"Add Docker publish workflow for container registry","description":"Create a GitHub Actions workflow to build and publish the Docker container to a container registry (GitHub Container Registry / ghcr.io) on push to main or on tag/release. Should use the existing Dockerfile and multi-stage build.","status":"closed","priority":1,"issue_type":"feature","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:28:23Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:29:30Z","closed_at":"2026-02-20T03:29:30Z","close_reason":"Created .github/workflows/docker-publish.yml publishing to ghcr.io on push to main and version tags"}
{"id":"kitchinv-orp","title":"Wire cmd/kitchinv/main.go","description":"Complete cmd/kitchinv/main.go with full dependency injection: load config, open DB, create stores, select vision adapter based on VISION_BACKEND env var (ollama default, claude alternative), select photo store based on PHOTO_BACKEND env var, construct AreaService, construct and start HTTP server. Smoke test: run locally with VISION_BACKEND=ollama, open browser, verify UI works end to end.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:05:02Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:27Z","closed_at":"2026-02-20T03:17:27Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-orp","depends_on_id":"kitchinv-44t","type":"blocks","created_at":"2026-02-19T22:05:28Z","created_by":"Vincent Bonduro","metadata":"{}"},{"issue_id":"kitchinv-orp","depends_on_id":"kitchinv-fa6","type":"blocks","created_at":"2026-02-19T22:05:28Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-siw","title":"Claude vision adapter","description":"Implement internal/vision/claude/claude.go as ClaudeAnalyzer implementing VisionAnalyzer. Uses github.com/liushuangls/go-anthropic/v2. Sends image as base64 content block. Same structured prompt as Ollama adapter, same parseResponse helper. Write claude_test.go using httptest.NewServer with canned Anthropic API JSON responses.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:45Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:18Z","closed_at":"2026-02-20T03:17:18Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-siw","depends_on_id":"kitchinv-wvp","type":"blocks","created_at":"2026-02-19T22:05:26Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-t2m","title":"HTML templates","description":"Create all templates in internal/web/templates/. Structure: base.html (full page layout with Pico.css CDN + HTMX CDN), partials/area_card.html, partials/area_list.html, partials/item_list.html, partials/search_results.html, pages/areas.html, pages/area_detail.html, pages/search.html. Create embed.go with //go:embed directive. Key mobile feature: file input must use accept='image/*' capture='environment' to open rear camera. Write a test verifying templates parse without error.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:54Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:14Z","closed_at":"2026-02-20T03:17:14Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-t2m","depends_on_id":"kitchinv-74e","type":"blocks","created_at":"2026-02-19T22:05:27Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
{"id":"kitchinv-tph","title":"Add CI pipeline: lint, static analysis, code coverage on push","description":"Create a GitHub Actions workflow that runs on every push and PR. Should run: golangci-lint (configured via .golangci.yml), go vet, staticcheck, and go test with -race -coverprofile to compute code coverage.","status":"closed","priority":1,"issue_type":"feature","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:28:22Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:29:30Z","closed_at":"2026-02-20T03:29:30Z","close_reason":"Created .github/workflows/ci.yml with lint, vet, staticcheck, and test+coverage jobs"}
{"id":"kitchinv-wvp","title":"VisionAnalyzer interface and parse helper","description":"Create internal/vision/vision.go with VisionAnalyzer interface, AnalysisResult and DetectedItem types. Create internal/vision/parse.go with shared parseResponse(raw string) []DetectedItem helper that splits lines on '|' (name|quantity|notes format). Write table-driven parse_test.go covering edge cases: empty response, missing pipes, extra whitespace.","status":"closed","priority":1,"issue_type":"task","owner":"vbonduro@gmail.com","created_at":"2026-02-20T03:04:40Z","created_by":"Vincent Bonduro","updated_at":"2026-02-20T03:17:14Z","closed_at":"2026-02-20T03:17:14Z","close_reason":"Closed","dependencies":[{"issue_id":"kitchinv-wvp","depends_on_id":"kitchinv-74e","type":"blocks","created_at":"2026-02-19T22:05:26Z","created_by":"Vincent Bonduro","metadata":"{}"}]}
